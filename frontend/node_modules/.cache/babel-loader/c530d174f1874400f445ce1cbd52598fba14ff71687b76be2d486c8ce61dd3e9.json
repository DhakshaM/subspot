{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Link}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faArrowLeft,faEllipsisV,faEllipsisH,faDownload,faPaperclip,faPaperPlane,faFilePdf,faBan}from'@fortawesome/free-solid-svg-icons';import'./ChatListPage.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const initialChats=[{id:1,name:'Friend 1'},{id:2,name:'Friend 2'},{id:3,name:'Seller 1'}];const ChatListPage=()=>{var _chatList$find,_messages$selectedCha;const[chatList,setChatList]=useState(initialChats);const[selectedChat,setSelectedChat]=useState(null);// Each key is chatId -> array of messages\nconst[messages,setMessages]=useState({1:[{sender:'theirs',text:'Hello!',time:'10:00 AM',type:'text'},{sender:'mine',text:'Hi there!',time:'10:01 AM',type:'text'}],2:[],3:[]});// Track typed message and the message being replied to\nconst[typedMessage,setTypedMessage]=useState('');const[replyMsg,setReplyMsg]=useState(null);// For file uploads\nconst fileInputRef=useRef(null);// Image/PDF modals\nconst[modalImage,setModalImage]=useState(null);const[pdfModal,setPdfModal]=useState({open:false,src:'',fileName:''});// Header 3-dot menu (Clear/Delete chat)\nconst[menuOpen,setMenuOpen]=useState(false);const menuRef=useRef(null);// Per-message options\nconst[openMsgOptions,setOpenMsgOptions]=useState(null);// Delete popup modal\nconst[deletePopup,setDeletePopup]=useState({open:false,msgIndex:null});// For closing message-level dropdown if user clicks outside\nconst msgOptionsRef=useRef(null);// Helper to get a simple time stamp\nconst getTimeStamp=()=>{return new Date().toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};// Select a chat\nconst handleSelectChat=chatId=>{setSelectedChat(chatId);setTypedMessage('');setMenuOpen(false);setReplyMsg(null);setOpenMsgOptions(null);};// Determine the display name if replying to a \"theirs\" message\nconst getReplySenderName=sender=>{if(sender==='mine')return'You';// If it's 'theirs', get the chat's name\nconst chatObj=chatList.find(chat=>chat.id===selectedChat);return chatObj?chatObj.name:'Other';};// Send message\nconst handleSend=()=>{if(!typedMessage.trim()||!selectedChat)return;const timeStamp=getTimeStamp();// Build the new message object\nconst newMessage={sender:'mine',text:typedMessage,time:timeStamp,type:'text'};// If replying, store reference to the original message\nif(replyMsg){newMessage.replyTo={sender:replyMsg.sender,text:replyMsg.text};}setMessages(prev=>({...prev,[selectedChat]:[...(prev[selectedChat]||[]),newMessage]}));setTypedMessage('');setReplyMsg(null);};// Handle upload click\nconst handleUploadClick=()=>{var _fileInputRef$current;if(!selectedChat)return;(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();};// Handle file selection\nconst handleFileChange=e=>{const file=e.target.files[0];if(!file||!selectedChat)return;const timeStamp=getTimeStamp();const fileName=file.name;const fileType=file.type.toLowerCase();const reader=new FileReader();reader.onload=()=>{let newMsg={sender:'mine',time:timeStamp};if(fileType.startsWith('image/')){newMsg.type='image';newMsg.src=reader.result;}else if(fileType==='application/pdf'||fileName.toLowerCase().endsWith('.pdf')){newMsg.type='pdf';newMsg.src=reader.result;newMsg.fileName=fileName;}else{newMsg.type='file';newMsg.src=reader.result;newMsg.fileName=fileName;}setMessages(prev=>({...prev,[selectedChat]:[...(prev[selectedChat]||[]),newMsg]}));};reader.readAsDataURL(file);e.target.value='';};// Image modal\nconst openImageModal=src=>setModalImage(src);const closeImageModal=()=>setModalImage(null);// PDF modal\nconst openPdfModal=(src,fileName)=>setPdfModal({open:true,src,fileName});const closePdfModal=()=>setPdfModal({open:false,src:'',fileName:''});// Clear chat\nconst handleClearChat=()=>{if(!selectedChat)return;setMessages(prev=>({...prev,[selectedChat]:[]}));setMenuOpen(false);};// Delete entire chat\nconst handleDeleteChat=()=>{if(!selectedChat)return;setChatList(prev=>prev.filter(chat=>chat.id!==selectedChat));setMessages(prev=>{const newMsgs={...prev};delete newMsgs[selectedChat];return newMsgs;});setSelectedChat(null);setMenuOpen(false);};// Toggle header menu\nconst toggleMenu=()=>setMenuOpen(prev=>!prev);// Toggle message options\nconst toggleMsgOptions=index=>{setOpenMsgOptions(prev=>prev===index?null:index);};// Open delete confirmation for a message\nconst openDeletePopup=index=>{setDeletePopup({open:true,msgIndex:index});};/**\n   * handleDeleteMessage:\n   * - If deleteForAll = false => remove the message entirely (Delete for me).\n   * - If deleteForAll = true  => transform the message to a 'deleted' type (Delete for all).\n   */const handleDeleteMessage=function(chatId,msgIndex){let deleteForAll=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setMessages(prev=>{const updated=[...(prev[chatId]||[])];if(!deleteForAll){// Delete for me => remove the message from array\nupdated.splice(msgIndex,1);}else{// Delete for all => keep bubble, show \"You deleted this message\"\nconst originalMsg=updated[msgIndex];updated[msgIndex]={...originalMsg,type:'deleted',text:'You deleted this message',replyTo:undefined,src:undefined,fileName:undefined};}return{...prev,[chatId]:updated};});setDeletePopup({open:false,msgIndex:null});setOpenMsgOptions(null);};// Set the message we are replying to\nconst handleReplyMessage=msg=>{setReplyMsg(msg);setOpenMsgOptions(null);};// Close 3-dot header menu or message dropdown if clicking outside\nuseEffect(()=>{const handleClickOutside=e=>{// If not clicking inside the header menu\nif(menuRef.current&&!menuRef.current.contains(e.target)){setMenuOpen(false);}// If not clicking inside .chat-messages or specifically inside the .msg-options-container\nif(msgOptionsRef.current&&!msgOptionsRef.current.contains(e.target)){setOpenMsgOptions(null);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"chats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chats-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chats-left-panel\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"chats-left-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"back-link arrow-only\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowLeft})}),/*#__PURE__*/_jsx(\"h2\",{className:\"chats-title\",children:\"Chat\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"chat-list\",children:chatList.map(chat=>/*#__PURE__*/_jsx(\"li\",{className:`chat-item ${selectedChat===chat.id?'active':''}`,onClick:()=>handleSelectChat(chat.id),children:chat.name},chat.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:selectedChat?\"chats-right-panel doodle\":\"chats-right-panel\",children:selectedChat?/*#__PURE__*/_jsxs(\"div\",{className:\"chat-content\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"chats-right-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"chat-contact-name\",children:(_chatList$find=chatList.find(chat=>chat.id===selectedChat))===null||_chatList$find===void 0?void 0:_chatList$find.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-header-actions\",ref:menuRef,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEllipsisV,className:\"ellipsis-icon\",onClick:toggleMenu}),menuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"chat-menu-dropdown\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:handleClearChat,children:\"Clear Chat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:handleDeleteChat,children:\"Delete Chat\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-messages\",ref:msgOptionsRef,children:(_messages$selectedCha=messages[selectedChat])===null||_messages$selectedCha===void 0?void 0:_messages$selectedCha.map((msg,index)=>{const isMine=msg.sender==='mine';return/*#__PURE__*/_jsx(\"div\",{className:`message-wrapper ${isMine?'mine':'theirs'}`,children:isMine?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"msg-options-container\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEllipsisH,className:\"msg-options-icon\",onClick:()=>toggleMsgOptions(index)}),openMsgOptions===index&&/*#__PURE__*/_jsxs(\"div\",{className:\"msg-options-dropdown\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"msg-option-item\",onClick:()=>handleReplyMessage(msg),children:\"Reply\"}),/*#__PURE__*/_jsx(\"div\",{className:\"msg-option-item\",onClick:()=>openDeletePopup(index),children:\"Delete\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:`message-bubble ${msg.sender}`,children:[msg.replyTo&&/*#__PURE__*/_jsxs(\"div\",{className:\"mini-reply-bubble\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mini-reply-sender\",children:msg.replyTo.sender==='mine'?'You':getReplySenderName('theirs')}),/*#__PURE__*/_jsx(\"span\",{className:\"mini-reply-text\",children:msg.replyTo.text})]}),msg.type==='deleted'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-text deleted\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faBan,className:\"deleted-icon\"}),\"You deleted this message\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):msg.type==='text'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:msg.text}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):msg.type==='image'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:msg.src,alt:\"sent\",className:\"message-image\",onClick:()=>openImageModal(msg.src)}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):msg.type==='pdf'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pdf-preview\",onClick:()=>openPdfModal(msg.src,msg.fileName),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFilePdf,className:\"pdf-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"pdf-filename\",children:msg.fileName})]}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):msg.type==='file'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{href:msg.src,download:msg.fileName,className:\"file-link\",title:\"Download File\",children:msg.fileName}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):null]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:`message-bubble ${msg.sender}`,children:[msg.replyTo&&/*#__PURE__*/_jsxs(\"div\",{className:\"mini-reply-bubble\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mini-reply-sender\",children:msg.replyTo.sender==='mine'?'You':getReplySenderName('theirs')}),/*#__PURE__*/_jsx(\"span\",{className:\"mini-reply-text\",children:msg.replyTo.text})]}),msg.type==='deleted'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:msg.text}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):msg.type==='text'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:msg.text}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):msg.type==='image'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:msg.src,alt:\"sent\",className:\"message-image\",onClick:()=>openImageModal(msg.src)}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):msg.type==='pdf'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pdf-preview\",onClick:()=>openPdfModal(msg.src,msg.fileName),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFilePdf,className:\"pdf-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"pdf-filename\",children:msg.fileName})]}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):msg.type==='file'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{href:msg.src,download:msg.fileName,className:\"file-link\",title:\"Download File\",children:msg.fileName}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:msg.time})]}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg-options-container\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEllipsisH,className:\"msg-options-icon\",onClick:()=>toggleMsgOptions(index)}),openMsgOptions===index&&/*#__PURE__*/_jsxs(\"div\",{className:\"msg-options-dropdown\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"msg-option-item\",onClick:()=>handleReplyMessage(msg),children:\"Reply\"}),/*#__PURE__*/_jsx(\"div\",{className:\"msg-option-item\",onClick:()=>openDeletePopup(index),children:\"Delete\"})]})]})]})},index);})}),replyMsg&&/*#__PURE__*/_jsxs(\"div\",{className:\"reply-bubble\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"reply-text\",children:replyMsg.text}),/*#__PURE__*/_jsx(\"span\",{className:\"cancel-reply\",onClick:()=>setReplyMsg(null),children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chats-input-area\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type a message...\",value:typedMessage,onChange:e=>setTypedMessage(e.target.value),onKeyDown:e=>{if(e.key==='Enter')handleSend();}}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPaperPlane,className:\"send-icon\",onClick:handleSend}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*,.pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\",ref:fileInputRef,style:{display:'none'},onChange:handleFileChange}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPaperclip,className:\"upload-icon\",onClick:handleUploadClick})]})]}):/*#__PURE__*//* If no chat selected => doodle won't appear */_jsx(\"div\",{className:\"chat-placeholder\",children:\"Start Messaging\"})})]}),deletePopup.open&&/*#__PURE__*/_jsx(\"div\",{className:\"delete-popup-modal\",onClick:()=>setDeletePopup({open:false,msgIndex:null}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"delete-popup-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"p\",{children:\"Delete message:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"delete-popup-options\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"delete-option\",onClick:()=>handleDeleteMessage(selectedChat,deletePopup.msgIndex,false),children:\"Delete for me\"}),/*#__PURE__*/_jsx(\"span\",{className:\"delete-option\",onClick:()=>handleDeleteMessage(selectedChat,deletePopup.msgIndex,true),children:\"Delete for all\"})]})]})}),modalImage&&/*#__PURE__*/_jsx(\"div\",{className:\"image-modal\",onClick:closeImageModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"span\",{className:\"close-modal-icon\",onClick:closeImageModal,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"img\",{src:modalImage,alt:\"Enlarged\",className:\"modal-image\"}),/*#__PURE__*/_jsx(\"a\",{href:modalImage,download:\"image.png\",className:\"download-link\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faDownload})})]})}),pdfModal.open&&/*#__PURE__*/_jsx(\"div\",{className:\"pdf-modal\",onClick:closePdfModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"pdf-modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"span\",{className:\"close-pdf-modal\",onClick:closePdfModal,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"embed\",{src:pdfModal.src,type:\"application/pdf\",className:\"pdf-embed\"}),/*#__PURE__*/_jsx(\"a\",{href:pdfModal.src,download:pdfModal.fileName,className:\"download-pdf-icon\",title:\"Download PDF\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faDownload})})]})})]});};export default ChatListPage;","map":{"version":3,"names":["React","useState","useRef","useEffect","Link","FontAwesomeIcon","faArrowLeft","faEllipsisV","faEllipsisH","faDownload","faPaperclip","faPaperPlane","faFilePdf","faBan","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","initialChats","id","name","ChatListPage","_chatList$find","_messages$selectedCha","chatList","setChatList","selectedChat","setSelectedChat","messages","setMessages","sender","text","time","type","typedMessage","setTypedMessage","replyMsg","setReplyMsg","fileInputRef","modalImage","setModalImage","pdfModal","setPdfModal","open","src","fileName","menuOpen","setMenuOpen","menuRef","openMsgOptions","setOpenMsgOptions","deletePopup","setDeletePopup","msgIndex","msgOptionsRef","getTimeStamp","Date","toLocaleTimeString","hour","minute","handleSelectChat","chatId","getReplySenderName","chatObj","find","chat","handleSend","trim","timeStamp","newMessage","replyTo","prev","handleUploadClick","_fileInputRef$current","current","click","handleFileChange","e","file","target","files","fileType","toLowerCase","reader","FileReader","onload","newMsg","startsWith","result","endsWith","readAsDataURL","value","openImageModal","closeImageModal","openPdfModal","closePdfModal","handleClearChat","handleDeleteChat","filter","newMsgs","toggleMenu","toggleMsgOptions","index","openDeletePopup","handleDeleteMessage","deleteForAll","arguments","length","undefined","updated","splice","originalMsg","handleReplyMessage","msg","handleClickOutside","contains","document","addEventListener","removeEventListener","className","children","to","icon","map","onClick","ref","isMine","stopPropagation","alt","href","download","title","placeholder","onChange","onKeyDown","key","accept","style","display"],"sources":["/home/anmol/DEShaw-Project/subspot/frontend/src/components/ChatListPage.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faArrowLeft,\n  faEllipsisV,\n  faEllipsisH,\n  faDownload,\n  faPaperclip,\n  faPaperPlane,\n  faFilePdf,\n  faBan,\n} from '@fortawesome/free-solid-svg-icons';\nimport './ChatListPage.css';\n\nconst initialChats = [\n  { id: 1, name: 'Friend 1' },\n  { id: 2, name: 'Friend 2' },\n  { id: 3, name: 'Seller 1' },\n];\n\nconst ChatListPage = () => {\n  const [chatList, setChatList] = useState(initialChats);\n  const [selectedChat, setSelectedChat] = useState(null);\n\n  // Each key is chatId -> array of messages\n  const [messages, setMessages] = useState({\n    1: [\n      { sender: 'theirs', text: 'Hello!', time: '10:00 AM', type: 'text' },\n      { sender: 'mine', text: 'Hi there!', time: '10:01 AM', type: 'text' },\n    ],\n    2: [],\n    3: [],\n  });\n\n  // Track typed message and the message being replied to\n  const [typedMessage, setTypedMessage] = useState('');\n  const [replyMsg, setReplyMsg] = useState(null);\n\n  // For file uploads\n  const fileInputRef = useRef(null);\n\n  // Image/PDF modals\n  const [modalImage, setModalImage] = useState(null);\n  const [pdfModal, setPdfModal] = useState({ open: false, src: '', fileName: '' });\n\n  // Header 3-dot menu (Clear/Delete chat)\n  const [menuOpen, setMenuOpen] = useState(false);\n  const menuRef = useRef(null);\n\n  // Per-message options\n  const [openMsgOptions, setOpenMsgOptions] = useState(null);\n\n  // Delete popup modal\n  const [deletePopup, setDeletePopup] = useState({ open: false, msgIndex: null });\n\n  // For closing message-level dropdown if user clicks outside\n  const msgOptionsRef = useRef(null);\n\n  // Helper to get a simple time stamp\n  const getTimeStamp = () => {\n    return new Date().toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  // Select a chat\n  const handleSelectChat = (chatId) => {\n    setSelectedChat(chatId);\n    setTypedMessage('');\n    setMenuOpen(false);\n    setReplyMsg(null);\n    setOpenMsgOptions(null);\n  };\n\n  // Determine the display name if replying to a \"theirs\" message\n  const getReplySenderName = (sender) => {\n    if (sender === 'mine') return 'You';\n    // If it's 'theirs', get the chat's name\n    const chatObj = chatList.find((chat) => chat.id === selectedChat);\n    return chatObj ? chatObj.name : 'Other';\n  };\n\n  // Send message\n  const handleSend = () => {\n    if (!typedMessage.trim() || !selectedChat) return;\n    const timeStamp = getTimeStamp();\n\n    // Build the new message object\n    const newMessage = {\n      sender: 'mine',\n      text: typedMessage,\n      time: timeStamp,\n      type: 'text',\n    };\n\n    // If replying, store reference to the original message\n    if (replyMsg) {\n      newMessage.replyTo = {\n        sender: replyMsg.sender,\n        text: replyMsg.text,\n      };\n    }\n\n    setMessages((prev) => ({\n      ...prev,\n      [selectedChat]: [...(prev[selectedChat] || []), newMessage],\n    }));\n\n    setTypedMessage('');\n    setReplyMsg(null);\n  };\n\n  // Handle upload click\n  const handleUploadClick = () => {\n    if (!selectedChat) return;\n    fileInputRef.current?.click();\n  };\n\n  // Handle file selection\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (!file || !selectedChat) return;\n\n    const timeStamp = getTimeStamp();\n    const fileName = file.name;\n    const fileType = file.type.toLowerCase();\n\n    const reader = new FileReader();\n    reader.onload = () => {\n      let newMsg = {\n        sender: 'mine',\n        time: timeStamp,\n      };\n      if (fileType.startsWith('image/')) {\n        newMsg.type = 'image';\n        newMsg.src = reader.result;\n      } else if (\n        fileType === 'application/pdf' ||\n        fileName.toLowerCase().endsWith('.pdf')\n      ) {\n        newMsg.type = 'pdf';\n        newMsg.src = reader.result;\n        newMsg.fileName = fileName;\n      } else {\n        newMsg.type = 'file';\n        newMsg.src = reader.result;\n        newMsg.fileName = fileName;\n      }\n      setMessages((prev) => ({\n        ...prev,\n        [selectedChat]: [...(prev[selectedChat] || []), newMsg],\n      }));\n    };\n    reader.readAsDataURL(file);\n    e.target.value = '';\n  };\n\n  // Image modal\n  const openImageModal = (src) => setModalImage(src);\n  const closeImageModal = () => setModalImage(null);\n\n  // PDF modal\n  const openPdfModal = (src, fileName) => setPdfModal({ open: true, src, fileName });\n  const closePdfModal = () => setPdfModal({ open: false, src: '', fileName: '' });\n\n  // Clear chat\n  const handleClearChat = () => {\n    if (!selectedChat) return;\n    setMessages((prev) => ({ ...prev, [selectedChat]: [] }));\n    setMenuOpen(false);\n  };\n\n  // Delete entire chat\n  const handleDeleteChat = () => {\n    if (!selectedChat) return;\n    setChatList((prev) => prev.filter((chat) => chat.id !== selectedChat));\n    setMessages((prev) => {\n      const newMsgs = { ...prev };\n      delete newMsgs[selectedChat];\n      return newMsgs;\n    });\n    setSelectedChat(null);\n    setMenuOpen(false);\n  };\n\n  // Toggle header menu\n  const toggleMenu = () => setMenuOpen((prev) => !prev);\n\n  // Toggle message options\n  const toggleMsgOptions = (index) => {\n    setOpenMsgOptions((prev) => (prev === index ? null : index));\n  };\n\n  // Open delete confirmation for a message\n  const openDeletePopup = (index) => {\n    setDeletePopup({ open: true, msgIndex: index });\n  };\n\n  /**\n   * handleDeleteMessage:\n   * - If deleteForAll = false => remove the message entirely (Delete for me).\n   * - If deleteForAll = true  => transform the message to a 'deleted' type (Delete for all).\n   */\n  const handleDeleteMessage = (chatId, msgIndex, deleteForAll = false) => {\n    setMessages((prev) => {\n      const updated = [...(prev[chatId] || [])];\n      if (!deleteForAll) {\n        // Delete for me => remove the message from array\n        updated.splice(msgIndex, 1);\n      } else {\n        // Delete for all => keep bubble, show \"You deleted this message\"\n        const originalMsg = updated[msgIndex];\n        updated[msgIndex] = {\n          ...originalMsg,\n          type: 'deleted',\n          text: 'You deleted this message',\n          replyTo: undefined,\n          src: undefined,\n          fileName: undefined,\n        };\n      }\n      return { ...prev, [chatId]: updated };\n    });\n    setDeletePopup({ open: false, msgIndex: null });\n    setOpenMsgOptions(null);\n  };\n\n  // Set the message we are replying to\n  const handleReplyMessage = (msg) => {\n    setReplyMsg(msg);\n    setOpenMsgOptions(null);\n  };\n\n  // Close 3-dot header menu or message dropdown if clicking outside\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      // If not clicking inside the header menu\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setMenuOpen(false);\n      }\n      // If not clicking inside .chat-messages or specifically inside the .msg-options-container\n      if (msgOptionsRef.current && !msgOptionsRef.current.contains(e.target)) {\n        setOpenMsgOptions(null);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  return (\n    <div className=\"chats-container\">\n      <div className=\"chats-wrapper\">\n        {/* Left Panel */}\n        <div className=\"chats-left-panel\">\n          <header className=\"chats-left-header\">\n            <Link to=\"/dashboard\" className=\"back-link arrow-only\">\n              <FontAwesomeIcon icon={faArrowLeft} />\n            </Link>\n            <h2 className=\"chats-title\">Chat</h2>\n          </header>\n\n          <ul className=\"chat-list\">\n            {chatList.map((chat) => (\n              <li\n                key={chat.id}\n                className={`chat-item ${selectedChat === chat.id ? 'active' : ''}`}\n                onClick={() => handleSelectChat(chat.id)}\n              >\n                {chat.name}\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        {/* Right Panel */}\n        {/* \n          Conditionally add \"doodle\" class if a chat is selected \n          => doodle background shows only if selectedChat != null\n        */}\n        <div className={selectedChat ? \"chats-right-panel doodle\" : \"chats-right-panel\"}>\n          {selectedChat ? (\n            <div className=\"chat-content\">\n              <header className=\"chats-right-header\">\n                <span className=\"chat-contact-name\">\n                  {chatList.find((chat) => chat.id === selectedChat)?.name}\n                </span>\n                <div className=\"chat-header-actions\" ref={menuRef}>\n                  <FontAwesomeIcon\n                    icon={faEllipsisV}\n                    className=\"ellipsis-icon\"\n                    onClick={toggleMenu}\n                  />\n                  {menuOpen && (\n                    <div className=\"chat-menu-dropdown\">\n                      <div className=\"dropdown-item\" onClick={handleClearChat}>\n                        Clear Chat\n                      </div>\n                      <div className=\"dropdown-item\" onClick={handleDeleteChat}>\n                        Delete Chat\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </header>\n\n              <div className=\"chat-messages\" ref={msgOptionsRef}>\n                {messages[selectedChat]?.map((msg, index) => {\n                  const isMine = msg.sender === 'mine';\n                  return (\n                    <div\n                      key={index}\n                      className={`message-wrapper ${isMine ? 'mine' : 'theirs'}`}\n                    >\n                      {isMine ? (\n                        <>\n                          {/* 3-dots on left, bubble on right */}\n                          <div className=\"msg-options-container\" onClick={(e) => e.stopPropagation()}>\n                            <FontAwesomeIcon\n                              icon={faEllipsisH}\n                              className=\"msg-options-icon\"\n                              onClick={() => toggleMsgOptions(index)}\n                            />\n                            {openMsgOptions === index && (\n                              <div className=\"msg-options-dropdown\" onClick={(e) => e.stopPropagation()}>\n                                <div\n                                  className=\"msg-option-item\"\n                                  onClick={() => handleReplyMessage(msg)}\n                                >\n                                  Reply\n                                </div>\n                                <div\n                                  className=\"msg-option-item\"\n                                  onClick={() => openDeletePopup(index)}\n                                >\n                                  Delete\n                                </div>\n                              </div>\n                            )}\n                          </div>\n\n                          <div className={`message-bubble ${msg.sender}`}>\n                            {/* Show replied message if any */}\n                            {msg.replyTo && (\n                              <div className=\"mini-reply-bubble\">\n                                <span className=\"mini-reply-sender\">\n                                  {msg.replyTo.sender === 'mine'\n                                    ? 'You'\n                                    : getReplySenderName('theirs')}\n                                </span>\n                                <span className=\"mini-reply-text\">{msg.replyTo.text}</span>\n                              </div>\n                            )}\n\n                            {/* If the message is \"deleted for all\", check msg.type === 'deleted' */}\n                            {msg.type === 'deleted' ? (\n                              <>\n                                <div className=\"message-text deleted\">\n                                  <FontAwesomeIcon icon={faBan} className=\"deleted-icon\" />\n                                  You deleted this message\n                                </div>\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : msg.type === 'text' ? (\n                              <>\n                                <div className=\"message-text\">{msg.text}</div>\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : msg.type === 'image' ? (\n                              <>\n                                <img\n                                  src={msg.src}\n                                  alt=\"sent\"\n                                  className=\"message-image\"\n                                  onClick={() => openImageModal(msg.src)}\n                                />\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : msg.type === 'pdf' ? (\n                              <>\n                                <div\n                                  className=\"pdf-preview\"\n                                  onClick={() => openPdfModal(msg.src, msg.fileName)}\n                                >\n                                  <FontAwesomeIcon icon={faFilePdf} className=\"pdf-icon\" />\n                                  <span className=\"pdf-filename\">{msg.fileName}</span>\n                                </div>\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : msg.type === 'file' ? (\n                              <>\n                                <a\n                                  href={msg.src}\n                                  download={msg.fileName}\n                                  className=\"file-link\"\n                                  title=\"Download File\"\n                                >\n                                  {msg.fileName}\n                                </a>\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : null}\n                          </div>\n                        </>\n                      ) : (\n                        <>\n                          {/* For 'theirs', bubble first, dots on right */}\n                          <div className={`message-bubble ${msg.sender}`}>\n                            {msg.replyTo && (\n                              <div className=\"mini-reply-bubble\">\n                                <span className=\"mini-reply-sender\">\n                                  {msg.replyTo.sender === 'mine'\n                                    ? 'You'\n                                    : getReplySenderName('theirs')}\n                                </span>\n                                <span className=\"mini-reply-text\">{msg.replyTo.text}</span>\n                              </div>\n                            )}\n\n                            {msg.type === 'deleted' ? (\n                              <>\n                                <div className=\"message-text\">{msg.text}</div>\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : msg.type === 'text' ? (\n                              <>\n                                <div className=\"message-text\">{msg.text}</div>\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : msg.type === 'image' ? (\n                              <>\n                                <img\n                                  src={msg.src}\n                                  alt=\"sent\"\n                                  className=\"message-image\"\n                                  onClick={() => openImageModal(msg.src)}\n                                />\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : msg.type === 'pdf' ? (\n                              <>\n                                <div\n                                  className=\"pdf-preview\"\n                                  onClick={() => openPdfModal(msg.src, msg.fileName)}\n                                >\n                                  <FontAwesomeIcon icon={faFilePdf} className=\"pdf-icon\" />\n                                  <span className=\"pdf-filename\">{msg.fileName}</span>\n                                </div>\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : msg.type === 'file' ? (\n                              <>\n                                <a\n                                  href={msg.src}\n                                  download={msg.fileName}\n                                  className=\"file-link\"\n                                  title=\"Download File\"\n                                >\n                                  {msg.fileName}\n                                </a>\n                                <div className=\"message-time\">{msg.time}</div>\n                              </>\n                            ) : null}\n                          </div>\n\n                          <div className=\"msg-options-container\" onClick={(e) => e.stopPropagation()}>\n                            <FontAwesomeIcon\n                              icon={faEllipsisH}\n                              className=\"msg-options-icon\"\n                              onClick={() => toggleMsgOptions(index)}\n                            />\n                            {openMsgOptions === index && (\n                              <div className=\"msg-options-dropdown\" onClick={(e) => e.stopPropagation()}>\n                                <div\n                                  className=\"msg-option-item\"\n                                  onClick={() => handleReplyMessage(msg)}\n                                >\n                                  Reply\n                                </div>\n                                <div\n                                  className=\"msg-option-item\"\n                                  onClick={() => openDeletePopup(index)}\n                                >\n                                  Delete\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        </>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n\n              {/* If user is replying, show a bubble above input */}\n              {replyMsg && (\n                <div className=\"reply-bubble\">\n                  <span className=\"reply-text\">{replyMsg.text}</span>\n                  <span className=\"cancel-reply\" onClick={() => setReplyMsg(null)}>\n                    &times;\n                  </span>\n                </div>\n              )}\n\n              {/* Message input area */}\n              <div className=\"chats-input-area\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Type a message...\"\n                  value={typedMessage}\n                  onChange={(e) => setTypedMessage(e.target.value)}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') handleSend();\n                  }}\n                />\n                <FontAwesomeIcon\n                  icon={faPaperPlane}\n                  className=\"send-icon\"\n                  onClick={handleSend}\n                />\n                <input\n                  type=\"file\"\n                  accept=\"image/*,.pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n                  ref={fileInputRef}\n                  style={{ display: 'none' }}\n                  onChange={handleFileChange}\n                />\n                <FontAwesomeIcon\n                  icon={faPaperclip}\n                  className=\"upload-icon\"\n                  onClick={handleUploadClick}\n                />\n              </div>\n            </div>\n          ) : (\n            /* If no chat selected => doodle won't appear */\n            <div className=\"chat-placeholder\">Start Messaging</div>\n          )}\n        </div>\n      </div>\n\n      {/* Delete Popup Modal */}\n      {deletePopup.open && (\n        <div\n          className=\"delete-popup-modal\"\n          onClick={() => setDeletePopup({ open: false, msgIndex: null })}\n        >\n          <div className=\"delete-popup-content\" onClick={(e) => e.stopPropagation()}>\n            <p>Delete message:</p>\n            <div className=\"delete-popup-options\">\n              <span\n                className=\"delete-option\"\n                onClick={() =>\n                  handleDeleteMessage(selectedChat, deletePopup.msgIndex, false)\n                }\n              >\n                Delete for me\n              </span>\n              <span\n                className=\"delete-option\"\n                onClick={() =>\n                  handleDeleteMessage(selectedChat, deletePopup.msgIndex, true)\n                }\n              >\n                Delete for all\n              </span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Image Modal */}\n      {modalImage && (\n        <div className=\"image-modal\" onClick={closeImageModal}>\n          <div className=\"image-modal-content\" onClick={(e) => e.stopPropagation()}>\n            <span className=\"close-modal-icon\" onClick={closeImageModal}>\n              &times;\n            </span>\n            <img src={modalImage} alt=\"Enlarged\" className=\"modal-image\" />\n            <a href={modalImage} download=\"image.png\" className=\"download-link\">\n              <FontAwesomeIcon icon={faDownload} />\n            </a>\n          </div>\n        </div>\n      )}\n\n      {/* PDF Modal */}\n      {pdfModal.open && (\n        <div className=\"pdf-modal\" onClick={closePdfModal}>\n          <div className=\"pdf-modal-content\" onClick={(e) => e.stopPropagation()}>\n            <span className=\"close-pdf-modal\" onClick={closePdfModal}>\n              &times;\n            </span>\n            <embed src={pdfModal.src} type=\"application/pdf\" className=\"pdf-embed\" />\n            <a\n              href={pdfModal.src}\n              download={pdfModal.fileName}\n              className=\"download-pdf-icon\"\n              title=\"Download PDF\"\n            >\n              <FontAwesomeIcon icon={faDownload} />\n            </a>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatListPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}