{"ast":null,"code":"import React,{useState,useMemo,useEffect}from'react';import'./Dashboard.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCircleUser,faPlus,faTrash,faTimes}from'@fortawesome/free-solid-svg-icons';import{useNavigate,Link}from'react-router-dom';import ChatIcon from'./ChatIcon';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){const navigate=useNavigate();const[expenseRange,setExpenseRange]=useState('Past year');const[showSubscriptions,setShowSubscriptions]=useState(true);const[newSubscriptionName,setNewSubscriptionName]=useState('');const[newSubscriptionCost,setNewSubscriptionCost]=useState('');const[newSubscriptionReminder,setNewSubscriptionReminder]=useState('monthly');const[newSubscriptionSharable,setNewSubscriptionSharable]=useState(true);const[newSubscriptionAutoRenew,setNewSubscriptionAutoRenew]=useState(false);const[subscriptions,setSubscriptions]=useState([]);const[reminders,setReminders]=useState([]);const[expenseData,setExpenseData]=useState({months:[],barHeights:[]});const[isDropdownOpen,setIsDropdownOpen]=useState(false);const[userInfo,setUserInfo]=useState({username:'',email:''});const API_BASE_URL='http://localhost:8000/subspot/';useEffect(()=>{fetch(`${API_BASE_URL}auth/user/`,{credentials:'include'}).then(res=>{if(res.status===401){navigate('/');return;}return res.json();}).then(data=>{if(data){setUserInfo({username:data.username,email:data.email});}}).catch(err=>console.error('Error fetching user info:',err));fetch(`${API_BASE_URL}subscriptions/`,{credentials:'include'}).then(res=>res.json()).then(data=>{console.log('Subscriptions:',data);setSubscriptions(data);}).catch(err=>console.error('Error fetching subscriptions:',err));fetch(`${API_BASE_URL}reminders/`,{credentials:'include'}).then(res=>res.json()).then(data=>{console.log('Reminders:',data);setReminders(data);}).catch(err=>console.error('Error fetching reminders:',err));fetch(`${API_BASE_URL}expenses/?range=${expenseRange.toLowerCase().replace(' ','_')}`,{credentials:'include'}).then(res=>res.json()).then(data=>{console.log('Expenses:',data);setExpenseData({months:data.months||[],barHeights:data.barHeights||[]});}).catch(err=>console.error('Error fetching expenses:',err));},[expenseRange,navigate]);const handleTabClick=tab=>setShowSubscriptions(tab==='subscriptions');const handleMarkReminderDone=id=>{fetch(`${API_BASE_URL}mark-paid/`,{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:new URLSearchParams({subscription_id:id}),credentials:'include'}).then(res=>res.json()).then(data=>{if(data.success){// Refresh reminders to reflect the updated renew_date\nfetch(`${API_BASE_URL}reminders/`,{credentials:'include'}).then(res=>res.json()).then(reminderData=>setReminders(reminderData)).catch(err=>console.error('Error refreshing reminders:',err));}else{console.error('Failed to mark reminder done:',data.error);}}).catch(err=>console.error('Error marking reminder done:',err));};const handleExpenseRangeChange=event=>setExpenseRange(event.target.value);const handleDeleteSubscription=id=>{fetch(`${API_BASE_URL}subscriptions/${id}/`,{method:'DELETE',credentials:'include'}).then(()=>{setSubscriptions(subscriptions.filter(sub=>sub.id!==id));setReminders(reminders.filter(reminder=>reminder.id!==id));}).catch(err=>console.error('Error deleting subscription:',err));};const handleAddSubscription=e=>{e.preventDefault();const newSubscription={name:newSubscriptionName,reminder:newSubscriptionReminder,cost:newSubscriptionCost,is_shareable:newSubscriptionSharable,is_autorenew:newSubscriptionAutoRenew};fetch(`${API_BASE_URL}subscriptions/`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newSubscription),credentials:'include'}).then(res=>res.json()).then(data=>{setSubscriptions([...subscriptions,data]);fetch(`${API_BASE_URL}reminders/`,{credentials:'include'}).then(res=>res.json()).then(reminderData=>{console.log('Updated Reminders:',reminderData);setReminders(reminderData);}).catch(err=>console.error('Error fetching reminders:',err));closeAddSubscriptionModal();setNewSubscriptionName('');setNewSubscriptionCost('');setNewSubscriptionReminder('monthly');setNewSubscriptionSharable(true);setNewSubscriptionAutoRenew(false);}).catch(err=>console.error('Error adding subscription:',err));};const handleLogout=()=>{fetch(`${API_BASE_URL}auth/logout/`,{method:'POST',credentials:'include'}).then(()=>{setIsDropdownOpen(false);navigate('/');}).catch(err=>console.error('Logout error:',err));};const toggleDropdown=()=>setIsDropdownOpen(!isDropdownOpen);const filteredExpenseData=useMemo(()=>{const allMonths=expenseData.months||[];const allBarHeights=expenseData.barHeights||[];const currentMonthIndex=new Date().getMonth();const monthNames=['January','February','March','April','May','June','July','August','September','October','November','December'];const orderedMonths=[];const orderedHeights=[];for(let i=0;i<12;i++){const monthIndex=(currentMonthIndex-11+i+12)%12;orderedMonths.push(monthNames[monthIndex]);const backendIndex=allMonths.indexOf(monthNames[monthIndex]);orderedHeights.push(backendIndex!==-1?allBarHeights[backendIndex]:0);}let filteredMonths=[];let filteredHeights=[];if(expenseRange==='Last month'){filteredMonths=[orderedMonths[11]];filteredHeights=[orderedHeights[11]];}else if(expenseRange==='Last 6 months'){filteredMonths=orderedMonths.slice(6,12);filteredHeights=orderedHeights.slice(6,12);}else{filteredMonths=orderedMonths;filteredHeights=orderedHeights;}console.log('Filtered Expense Data:',{months:filteredMonths,barHeights:filteredHeights});return{months:filteredMonths,barHeights:filteredHeights};},[expenseData,expenseRange]);const months=filteredExpenseData.months;const barHeights=filteredExpenseData.barHeights;const[isAddSubscriptionModalOpen,setIsAddSubscriptionModalOpen]=useState(false);const openAddSubscriptionModal=()=>setIsAddSubscriptionModalOpen(true);const closeAddSubscriptionModal=()=>setIsAddSubscriptionModalOpen(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"dashboard-header\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"dashboard-nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"nav-link active\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(Link,{to:\"/market\",className:\"nav-link\",children:\"Market\"}),/*#__PURE__*/_jsx(Link,{to:\"/friends\",className:\"nav-link\",children:\"Friends\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-icon\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCircleUser,onClick:toggleDropdown}),isDropdownOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-dropdown\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Username: \",/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:userInfo.username})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:userInfo.email})]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:handleLogout,children:\"Logout\"})]})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"expense-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"expense-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Expense\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"expense-range-select\",value:expenseRange,onChange:handleExpenseRangeChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Past year\",children:\"Past year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Last month\",children:\"Last month\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Last 6 months\",children:\"Last 6 months\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"expense-chart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-y-axis\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Rs.3000\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Rs.2000\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Rs.1000\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Rs.0\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-bars\",children:barHeights.map((height,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"chart-bar\",style:{height:`${height/3000*100}%`}},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-labels\",children:months.map((month,index)=>/*#__PURE__*/_jsx(\"span\",{children:month.slice(0,3)},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-horizontal-lines\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"horizontal-line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"horizontal-line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"horizontal-line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"horizontal-line\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"subscriptions-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:`tab-button ${showSubscriptions?'active':''}`,onClick:()=>handleTabClick('subscriptions'),children:\"Subscriptions\"}),/*#__PURE__*/_jsx(\"button\",{className:`tab-button ${!showSubscriptions?'active':''}`,onClick:()=>handleTabClick('reminders'),children:\"Reminders\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"subscription-list\",children:showSubscriptions?/*#__PURE__*/_jsxs(_Fragment,{children:[subscriptions.map(subscription=>/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"subscription-logo\",children:subscription.logo&&/*#__PURE__*/_jsx(\"img\",{src:subscription.logo,alt:`${subscription.name} Logo`,style:{width:'32px',height:'32px'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"subscription-name\",children:subscription.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-cost\",children:[\"Rs. \",subscription.cost]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:()=>handleDeleteSubscription(subscription.id),children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash})})]},subscription.id)),/*#__PURE__*/_jsxs(\"button\",{className:\"add-subscription-button\",onClick:openAddSubscriptionModal,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlus}),\" Add Subscription\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"reminder-list\",children:reminders.map(reminder=>{var _reminder$end_date,_reminder$end_date2;return/*#__PURE__*/_jsxs(\"div\",{className:\"reminder-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reminder-date\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"reminder-month\",children:(_reminder$end_date=reminder.end_date)===null||_reminder$end_date===void 0?void 0:_reminder$end_date.split(' ')[0]}),/*#__PURE__*/_jsx(\"span\",{className:\"reminder-day\",children:(_reminder$end_date2=reminder.end_date)===null||_reminder$end_date2===void 0?void 0:_reminder$end_date2.split(' ')[1]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"reminder-name\",children:reminder.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"reminder-cost\",children:[\"Rs. \",reminder.cost]}),/*#__PURE__*/_jsx(\"button\",{className:\"done-button\",onClick:()=>handleMarkReminderDone(reminder.id),children:\"Done\"})]},reminder.id);})})})]}),isAddSubscriptionModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"LoginModalOverlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"LoginModal\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"CloseButton\",onClick:closeAddSubscriptionModal,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Add Subscription\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddSubscription,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"InputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Service Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter service name\",value:newSubscriptionName,onChange:e=>setNewSubscriptionName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cost:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Enter cost\",value:newSubscriptionCost,onChange:e=>setNewSubscriptionCost(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Billing Cycle:\"}),/*#__PURE__*/_jsxs(\"select\",{value:newSubscriptionReminder,onChange:e=>setNewSubscriptionReminder(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"monthly\",children:\"Monthly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"quarterly\",children:\"Quarterly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yearly\",children:\"Yearly\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sharable:\"}),/*#__PURE__*/_jsxs(\"select\",{value:newSubscriptionSharable?'yes':'no',onChange:e=>setNewSubscriptionSharable(e.target.value==='yes'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"No\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Auto Renew:\"}),/*#__PURE__*/_jsxs(\"select\",{value:newSubscriptionAutoRenew?'yes':'no',onChange:e=>setNewSubscriptionAutoRenew(e.target.value==='yes'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"No\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"LoginButton\",children:\"Add Subscription\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom-left-ellipse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom-right-ellipse\"})]})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useMemo","useEffect","FontAwesomeIcon","faCircleUser","faPlus","faTrash","faTimes","useNavigate","Link","ChatIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","navigate","expenseRange","setExpenseRange","showSubscriptions","setShowSubscriptions","newSubscriptionName","setNewSubscriptionName","newSubscriptionCost","setNewSubscriptionCost","newSubscriptionReminder","setNewSubscriptionReminder","newSubscriptionSharable","setNewSubscriptionSharable","newSubscriptionAutoRenew","setNewSubscriptionAutoRenew","subscriptions","setSubscriptions","reminders","setReminders","expenseData","setExpenseData","months","barHeights","isDropdownOpen","setIsDropdownOpen","userInfo","setUserInfo","username","email","API_BASE_URL","fetch","credentials","then","res","status","json","data","catch","err","console","error","log","toLowerCase","replace","handleTabClick","tab","handleMarkReminderDone","id","method","headers","body","URLSearchParams","subscription_id","success","reminderData","handleExpenseRangeChange","event","target","value","handleDeleteSubscription","filter","sub","reminder","handleAddSubscription","e","preventDefault","newSubscription","name","cost","is_shareable","is_autorenew","JSON","stringify","closeAddSubscriptionModal","handleLogout","toggleDropdown","filteredExpenseData","allMonths","allBarHeights","currentMonthIndex","Date","getMonth","monthNames","orderedMonths","orderedHeights","i","monthIndex","push","backendIndex","indexOf","filteredMonths","filteredHeights","slice","isAddSubscriptionModalOpen","setIsAddSubscriptionModalOpen","openAddSubscriptionModal","className","children","to","icon","onClick","onChange","map","height","index","style","month","subscription","logo","src","alt","width","_reminder$end_date","_reminder$end_date2","end_date","split","onSubmit","type","placeholder"],"sources":["D:/DESIS ASCEND Educare Program Edition 4 (2024)/Desis Project/subspot/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\r\nimport './Dashboard.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCircleUser, faPlus, faTrash, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport ChatIcon from './ChatIcon'; \r\n\r\nfunction Dashboard() {\r\n  const navigate = useNavigate();\r\n  const [expenseRange, setExpenseRange] = useState('Past year');\r\n  const [showSubscriptions, setShowSubscriptions] = useState(true);\r\n  const [newSubscriptionName, setNewSubscriptionName] = useState('');\r\n  const [newSubscriptionCost, setNewSubscriptionCost] = useState('');\r\n  const [newSubscriptionReminder, setNewSubscriptionReminder] = useState('monthly');\r\n  const [newSubscriptionSharable, setNewSubscriptionSharable] = useState(true);\r\n  const [newSubscriptionAutoRenew, setNewSubscriptionAutoRenew] = useState(false);\r\n\r\n  const [subscriptions, setSubscriptions] = useState([]);\r\n  const [reminders, setReminders] = useState([]);\r\n  const [expenseData, setExpenseData] = useState({ months: [], barHeights: [] });\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const [userInfo, setUserInfo] = useState({ username: '', email: '' });\r\n\r\n  const API_BASE_URL = 'http://localhost:8000/subspot/';\r\n\r\n  useEffect(() => {\r\n    fetch(`${API_BASE_URL}auth/user/`, { credentials: 'include' })\r\n      .then(res => {\r\n        if (res.status === 401) {\r\n          navigate('/');\r\n          return;\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (data) {\r\n          setUserInfo({ username: data.username, email: data.email });\r\n        }\r\n      })\r\n      .catch(err => console.error('Error fetching user info:', err));\r\n\r\n    fetch(`${API_BASE_URL}subscriptions/`, { credentials: 'include' })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log('Subscriptions:', data);\r\n        setSubscriptions(data);\r\n      })\r\n      .catch(err => console.error('Error fetching subscriptions:', err));\r\n\r\n    fetch(`${API_BASE_URL}reminders/`, { credentials: 'include' })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log('Reminders:', data);\r\n        setReminders(data);\r\n      })\r\n      .catch(err => console.error('Error fetching reminders:', err));\r\n\r\n    fetch(`${API_BASE_URL}expenses/?range=${expenseRange.toLowerCase().replace(' ', '_')}`, { credentials: 'include' })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log('Expenses:', data);\r\n        setExpenseData({ months: data.months || [], barHeights: data.barHeights || [] });\r\n      })\r\n      .catch(err => console.error('Error fetching expenses:', err));  \r\n  }, [expenseRange, navigate]);\r\n  const handleTabClick = (tab) => setShowSubscriptions(tab === 'subscriptions');\r\n  const handleMarkReminderDone = (id) => {\r\n    fetch(`${API_BASE_URL}mark-paid/`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n      body: new URLSearchParams({ subscription_id: id }),\r\n      credentials: 'include',\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.success) {\r\n          // Refresh reminders to reflect the updated renew_date\r\n          fetch(`${API_BASE_URL}reminders/`, { credentials: 'include' })\r\n            .then(res => res.json())\r\n            .then(reminderData => setReminders(reminderData))\r\n            .catch(err => console.error('Error refreshing reminders:', err));\r\n        } else {\r\n          console.error('Failed to mark reminder done:', data.error);\r\n        }\r\n      })\r\n      .catch(err => console.error('Error marking reminder done:', err));\r\n  };\r\n\r\n  const handleExpenseRangeChange = (event) => setExpenseRange(event.target.value);\r\n\r\n  const handleDeleteSubscription = (id) => {\r\n    fetch(`${API_BASE_URL}subscriptions/${id}/`, {\r\n      method: 'DELETE',\r\n      credentials: 'include',\r\n    })\r\n      .then(() => {\r\n        setSubscriptions(subscriptions.filter(sub => sub.id !== id));\r\n        setReminders(reminders.filter(reminder => reminder.id !== id));\r\n      })\r\n      .catch(err => console.error('Error deleting subscription:', err));\r\n  };\r\n\r\n  const handleAddSubscription = (e) => {\r\n    e.preventDefault();\r\n    const newSubscription = {\r\n      name: newSubscriptionName,\r\n      reminder: newSubscriptionReminder,\r\n      cost: newSubscriptionCost,\r\n      is_shareable: newSubscriptionSharable,\r\n      is_autorenew: newSubscriptionAutoRenew,\r\n    };\r\n  \r\n    fetch(`${API_BASE_URL}subscriptions/`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(newSubscription),\r\n      credentials: 'include',\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        setSubscriptions([...subscriptions, data]);\r\n        fetch(`${API_BASE_URL}reminders/`, { credentials: 'include' })\r\n          .then(res => res.json())\r\n          .then(reminderData => {\r\n            console.log('Updated Reminders:', reminderData);\r\n            setReminders(reminderData);\r\n          })\r\n          .catch(err => console.error('Error fetching reminders:', err));\r\n        closeAddSubscriptionModal();\r\n        setNewSubscriptionName('');\r\n        setNewSubscriptionCost('');\r\n        setNewSubscriptionReminder('monthly');\r\n        setNewSubscriptionSharable(true);\r\n        setNewSubscriptionAutoRenew(false);\r\n      })\r\n      .catch(err => console.error('Error adding subscription:', err));\r\n  };\r\n  const handleLogout = () => {\r\n    fetch(`${API_BASE_URL}auth/logout/`, {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n    })\r\n      .then(() => {\r\n        setIsDropdownOpen(false);\r\n        navigate('/');\r\n      })\r\n      .catch(err => console.error('Logout error:', err));\r\n  };\r\n\r\n  const toggleDropdown = () => setIsDropdownOpen(!isDropdownOpen);\r\n  const filteredExpenseData = useMemo(() => {\r\n    const allMonths = expenseData.months || [];\r\n    const allBarHeights = expenseData.barHeights || [];\r\n    const currentMonthIndex = new Date().getMonth();\r\n    const monthNames = [\r\n      'January', 'February', 'March', 'April', 'May', 'June',\r\n      'July', 'August', 'September', 'October', 'November', 'December'\r\n    ];\r\n\r\n    const orderedMonths = [];\r\n    const orderedHeights = [];\r\n    for (let i = 0; i < 12; i++) {\r\n      const monthIndex = (currentMonthIndex - 11 + i + 12) % 12;\r\n      orderedMonths.push(monthNames[monthIndex]);\r\n      const backendIndex = allMonths.indexOf(monthNames[monthIndex]);\r\n      orderedHeights.push(backendIndex !== -1 ? allBarHeights[backendIndex] : 0);\r\n    }\r\n\r\n    let filteredMonths = [];\r\n    let filteredHeights = [];\r\n\r\n    if (expenseRange === 'Last month') {\r\n      filteredMonths = [orderedMonths[11]];\r\n      filteredHeights = [orderedHeights[11]];\r\n    } else if (expenseRange === 'Last 6 months') {\r\n      filteredMonths = orderedMonths.slice(6, 12);\r\n      filteredHeights = orderedHeights.slice(6, 12);\r\n    } else {\r\n      filteredMonths = orderedMonths;\r\n      filteredHeights = orderedHeights;\r\n    }\r\n\r\n    console.log('Filtered Expense Data:', { months: filteredMonths, barHeights: filteredHeights });\r\n    return { months: filteredMonths, barHeights: filteredHeights };\r\n  }, [expenseData, expenseRange]);\r\n\r\n  const months = filteredExpenseData.months;\r\n  const barHeights = filteredExpenseData.barHeights;\r\n  const [isAddSubscriptionModalOpen, setIsAddSubscriptionModalOpen] = useState(false);\r\n  const openAddSubscriptionModal = () => setIsAddSubscriptionModalOpen(true);\r\n  const closeAddSubscriptionModal = () => setIsAddSubscriptionModalOpen(false);\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <header className=\"dashboard-header\">\r\n        <nav className=\"dashboard-nav\">\r\n          <Link to=\"/dashboard\" className=\"nav-link active\">Dashboard</Link>\r\n          <Link to=\"/market\" className=\"nav-link\">Market</Link>\r\n          <Link to=\"/friends\" className=\"nav-link\">Friends</Link>\r\n          <div className=\"user-icon\">\r\n            <FontAwesomeIcon icon={faCircleUser} onClick={toggleDropdown}/>\r\n            {isDropdownOpen && (\r\n              <div className=\"user-dropdown\">\r\n                <p>Username: <span className=\"value\">{userInfo.username}</span></p>\r\n                <p>Email: <span className=\"value\">{userInfo.email}</span></p>\r\n                <button className=\"logout-button\" onClick={handleLogout}>Logout</button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </nav>\r\n      </header>\r\n\r\n      <main className=\"dashboard-content\">\r\n        <section className=\"expense-section\">\r\n          <div className=\"expense-header\">\r\n            <h2 className=\"section-title\">Expense</h2>\r\n            <select\r\n              className=\"expense-range-select\"\r\n              value={expenseRange}\r\n              onChange={handleExpenseRangeChange}\r\n            >\r\n              <option value=\"Past year\">Past year</option>\r\n              <option value=\"Last month\">Last month</option>\r\n              <option value=\"Last 6 months\">Last 6 months</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"expense-chart\">\r\n            <div className=\"chart-y-axis\">\r\n              <span>Rs.3000</span>\r\n              <span>Rs.2000</span>\r\n              <span>Rs.1000</span>\r\n              <span>Rs.0</span>\r\n            </div>\r\n            <div className=\"chart-bars\">\r\n              {barHeights.map((height, index) => (\r\n                <div\r\n                  key={index}\r\n                  className=\"chart-bar\"\r\n                  style={{ height: `${(height / 3000) * 100}%` }}\r\n                ></div>\r\n              ))}\r\n            </div>\r\n            <div className=\"chart-labels\">\r\n              {months.map((month, index) => (\r\n                <span key={index}>{month.slice(0, 3)}</span>\r\n              ))}\r\n            </div>\r\n            <div className=\"chart-horizontal-lines\">\r\n              <div className=\"horizontal-line\"></div>\r\n              <div className=\"horizontal-line\"></div>\r\n              <div className=\"horizontal-line\"></div>\r\n              <div className=\"horizontal-line\"></div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"subscriptions-section\">\r\n          <div className=\"section-tabs\">\r\n            <button\r\n              className={`tab-button ${showSubscriptions ? 'active' : ''}`}\r\n              onClick={() => handleTabClick('subscriptions')}\r\n            >\r\n              Subscriptions\r\n            </button>\r\n            <button\r\n              className={`tab-button ${!showSubscriptions ? 'active' : ''}`}\r\n              onClick={() => handleTabClick('reminders')}\r\n            >\r\n              Reminders\r\n            </button>\r\n          </div>\r\n          <div className=\"subscription-list\">\r\n            {showSubscriptions ? (\r\n              <>\r\n                {subscriptions.map((subscription) => (\r\n                  <div className=\"subscription-item\" key={subscription.id}>\r\n                    <div className=\"subscription-logo\">\r\n                      {subscription.logo && (\r\n                        <img src={subscription.logo} alt={`${subscription.name} Logo`} style={{ width: '32px', height: '32px' }} />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"subscription-name\">{subscription.name}</div>\r\n                    <div className=\"subscription-cost\">Rs. {subscription.cost}</div>\r\n                    <button\r\n                      className=\"delete-button\"\r\n                      onClick={() => handleDeleteSubscription(subscription.id)}\r\n                    >\r\n                      <FontAwesomeIcon icon={faTrash} />\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n                <button className=\"add-subscription-button\" onClick={openAddSubscriptionModal}>\r\n                  <FontAwesomeIcon icon={faPlus} /> Add Subscription\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <div className=\"reminder-list\">\r\n                {reminders.map((reminder) => (\r\n                  <div className=\"reminder-item\" key={reminder.id}>\r\n                    <div className=\"reminder-date\">\r\n                      <span className=\"reminder-month\">{reminder.end_date?.split(' ')[0]}</span>\r\n                      <span className=\"reminder-day\">{reminder.end_date?.split(' ')[1]}</span>\r\n                    </div>\r\n                    <div className=\"reminder-name\">{reminder.name}</div>\r\n                    <div className=\"reminder-cost\">Rs. {reminder.cost}</div>\r\n                    <button\r\n                      className=\"done-button\"\r\n                      onClick={() => handleMarkReminderDone(reminder.id)}\r\n                    >\r\n                      Done\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n\r\n        {isAddSubscriptionModalOpen && (\r\n          <div className=\"LoginModalOverlay\">\r\n            <div className=\"LoginModal\">\r\n              <button className=\"CloseButton\" onClick={closeAddSubscriptionModal}>\r\n                <FontAwesomeIcon icon={faTimes} />\r\n              </button>\r\n              <h2>Add Subscription</h2>\r\n              <form onSubmit={handleAddSubscription}>\r\n                <div className=\"InputGroup\">\r\n                  <label>Service Name:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter service name\"\r\n                    value={newSubscriptionName}\r\n                    onChange={(e) => setNewSubscriptionName(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"InputGroup\">\r\n                  <label>Cost:</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Enter cost\"\r\n                    value={newSubscriptionCost}\r\n                    onChange={(e) => setNewSubscriptionCost(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"InputGroup\">\r\n                  <label>Billing Cycle:</label>\r\n                  <select\r\n                    value={newSubscriptionReminder}\r\n                    onChange={(e) => setNewSubscriptionReminder(e.target.value)}\r\n                  >\r\n                    <option value=\"monthly\">Monthly</option>\r\n                    <option value=\"quarterly\">Quarterly</option>\r\n                    <option value=\"yearly\">Yearly</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"InputGroup\">\r\n                  <label>Sharable:</label>\r\n                  <select\r\n                    value={newSubscriptionSharable ? 'yes' : 'no'}\r\n                    onChange={(e) => setNewSubscriptionSharable(e.target.value === 'yes')}\r\n                  >\r\n                    <option value=\"yes\">Yes</option>\r\n                    <option value=\"no\">No</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"InputGroup\">\r\n                  <label>Auto Renew:</label>\r\n                  <select\r\n                    value={newSubscriptionAutoRenew ? 'yes' : 'no'}\r\n                    onChange={(e) => setNewSubscriptionAutoRenew(e.target.value === 'yes')}\r\n                  >\r\n                    <option value=\"yes\">Yes</option>\r\n                    <option value=\"no\">No</option>\r\n                  </select>\r\n                </div>\r\n                <button className=\"LoginButton\">Add Subscription</button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div className=\"bottom-left-ellipse\"></div>\r\n        <div className=\"bottom-right-ellipse\"></div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}